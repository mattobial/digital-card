/* qrcode.js v1.0.0 | MIT | https://github.com/davidshimjs/qrcodejs */
var QRCode;!function(){function e(e){this.mode=p.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,r=this.data.length;t<r;t++){var n=[],o=this.data.charCodeAt(t);o>65536?(n[0]=240|(1835008&o)>>>18,n[1]=128|(258048&o)>>>12,n[2]=128|(4032&o)>>>6,n[3]=128|63&o):o>2048?(n[0]=224|(61440&o)>>>12,n[1]=128|(4032&o)>>>6,n[2]=128|63&o):o>128?(n[0]=192|(1984&o)>>>6,n[1]=128|63&o):n[0]=o,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function t(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function r(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&0==e[r];)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}function n(){this.buffer=[],this.length=0}function o(){return"undefined"!=typeof CanvasRenderingContext2D}function a(){var e=!1,t=navigator.userAgent;return/android/i.test(t)&&(e=!0,(/android 2\.1/i.test(t)||/android 2\.2/i.test(t))&&(e=!0)),e}function i(e,t){for(var r=1,n=function(e){for(var t=0,r=0,n=0,o=0,a=0,i=0,s=0,c=0,u=0,l=e.length,f=0;f<l;f++){var h=e.charCodeAt(f);h>65536?(t+=4,i+=3):h>2048?(t+=3,i+=2):h>128?(t+=2,i+=2):(t+=1,h<32||h>126?o++:h>=48&&h<=57?a++:h>=65&&h<=90?s++:h>=97&&h<=122?c++:u++),r++}return{byte:t,charCount:r,ctrl:o,num:a,upper:s,lower:c,other:u}}(e),o=0,a=s.length-1;a>=0;a--){var i=0;switch(t){case d.L:i=s[a][0];break;case d.M:i=s[a][1];break;case d.Q:i=s[a][2];break;case d.H:i=s[a][3]}if(n.byte<=i)return r=a+1,o=1,void 0}return r}function s(){}e.prototype={getLength:function(){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}},t.prototype={addData:function(t){var r=new e(t);this.dataList.push(r),this.dataCache=null},isDark:function(e,t){if(0>e||this.moduleCount<=e||0>t||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var e=i(this.getData(),this.errorCorrectLevel);this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=c(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(this.modules[e+r][t+n]=r>=0&&r<=6&&(0==n||6==n)||n>=0&&n<=6&&(0==r||6==r)||r>=2&&r<=4&&n>=2&&n<=4?!0:!1)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=l.getLostPoint(this);(0==r||e>n)&&(e=n,t=r)}return t},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=0==e%2),null==this.modules[6][e]&&(this.modules[6][e]=0==e%2)},setupPositionAdjustPattern:function(){for(var e=l.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],o=e[r];null==this.modules[n][o]&&(this.modules[n][o]=l.getMask(1,n,o))}},setupTypeNumber:function(e){for(var t=l.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&1==(t>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(r=0;r<18;r++){n=!e&&1==(t>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(e,t){for(var r=l.getBCHTypeInfo(this.errorCorrectLevel<<3|t),n=0;n<15;n++){var o=!e&&1==(r>>n&1);n<6?this.modules[n][8]=o:n<8?this.modules[n+1][8]=o:this.modules[this.moduleCount-15+n][8]=o}for(n=0;n<15;n++){o=!e&&1==(r>>n&1);n<8?this.modules[8][this.moduleCount-1-n]=o:n<9?this.modules[8][15-n-1+1]=o:this.modules[8][15-n-1]=o}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,n=this.moduleCount-1,o=this.moduleCount-1,a=0;a<this.moduleCount;a+=2){6==a&&a++;for(;;){for(var i=0;i<2;i++)null==this.modules[o][n-i]&&(this.modules[o][n-i]=l.getMask(t,o,n-i)?!e[r++]:e[r++]);o+=r;if(0>o||this.moduleCount<=o){o-=r,r=-r;break}}}},getData:function(){for(var e=[],t=0;t<this.dataList.length;t++)e=e.concat(this.dataList[t].parsedData);return e}};r.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length}};var d={L:1,M:0,Q:3,H:2},s=[[1,26,19,0],[1,44,34,0],[1,70,55,0],[1,100,80,0],[1,134,108,0],[2,86,62,0],[2,98,74,0],[2,121,86,0],[2,146,108,0],[2,86,62,2,87,62]],l={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50]],getBCHTypeInfo:function(e){for(var t=e<<10;l.getBCHDigit(t)-l.getBCHDigit(1335)>=0;)t^=1335<<l.getBCHDigit(t)-l.getBCHDigit(1335);return(e<<10|t)^21522},getBCHTypeNumber:function(e){for(var t=e<<12;l.getBCHDigit(t)-l.getBCHDigit(7973)>=0;)t^=7973<<l.getBCHDigit(t)-l.getBCHDigit(7973);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return l.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case 0:return(t+r)%2==0;case 1:return t%2==0;case 2:return r%3==0;case 3:return(t+r)%3==0;case 4:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case 5:return t*r%2+t*r%3==0;case 6:return(t*r%2+t*r%3)%2==0;case 7:return(t*r%3+Math.floor(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new r([1],0),n=0;e>n;n++)t=l.multiply(t,new r([1,u.gexp(n)],0));return t},glog:function(e){if(1>e)throw new Error("glog("+e+")");return u.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return u.EXP_TABLE[e]},multiply:function(e,t){for(var n=new Array(e.getLength()+t.getLength()-1),o=0;o<e.getLength();o++)for(var a=0;a<t.getLength();a++)n[o+a]^=u.gexp(u.glog(e.get(o))+u.glog(t.get(a)));return new r(n,0)},mod:function(e,t){for(;e.getLength()-t.getLength()>=0;){for(var n=u.glog(e.get(0))-u.glog(t.get(0)),o=new Array(e.getLength()),a=0;a<e.getLength();a++)o[a]=e.get(a);for(a=0;a<t.getLength();a++)o[a]^=u.gexp(u.glog(t.get(a))+n);e=new r(o,0);for(;e.get(0)==0;)e=new r(e.num.slice(1),0)}return e}};function c(e,t,n){for(var o=function(e,t){var n=s[e-1];if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e);for(var o=[],a=0;a<n.length/3;a++)for(var i=n[3*a+0],c=n[3*a+1],f=n[3*a+2],h=0;h<i;h++)o.push({dataCount:c,totalCount:f});return o}(e,t),a=new f,h=0;h<n.length;h++){var i=n[h];a.put(4,4),a.put(i.getLength(),8);for(var l=0;l<i.parsedData.length;l++)a.put(i.parsedData[l],8)}for(var g=0;g<o.length;g++)a.put(0,8);for(;a.length+4<=8*e*e;)a.put(0,4);for(;a.length%8!=0;)a.putBit(!1);var v=0,m=0,y=0,p=new Array(o.length),E=new Array(o.length);for(g=0;g<o.length;g++){var w=o[g].dataCount,b=o[g].totalCount-w;m=Math.max(m,w),y=Math.max(y,b),p[g]=new Array(w);for(l=0;l<p[g].length;l++)p[g][l]=255&a.buffer[l+v];v+=w;var C=l2.getErrorCorrectPolynomial(b),L=l2.mod(new r(p[g],0),C),M=C.getLength();E[g]=new Array(M);for(l=0;l<M;l++){var T=l+L.getLength()-M;E[g][l]=T>=0?L.get(T):0}}var N=0;for(l=0;l<o.length;l++)N+=o[l].totalCount;var O=new Array(N),H=0;for(l=0;l<m;l++)for(g=0;g<o.length;g++)l<p[g].length&&(O[H++]=p[g][l]);for(l=0;l<y;l++)for(g=0;g<o.length;g++)l<E[g].length&&(O[H++]=E[g][l]);return O}function f(){this.buffer=[],this.length=0}f.prototype={get:function(e){return this.buffer[e]},put:function(e,t){for(var r=0;t>r;r++)this.putBit(1==(e>>>t-r-1&1))},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var u={};u.EXP_TABLE=new Array(256),u.LOG_TABLE=new Array(256);for(var h=0;h<8;h++)u.EXP_TABLE[h]=1<<h;for(h=8;h<256;h++)u.EXP_TABLE[h]=u.EXP_TABLE[h-4]^u.EXP_TABLE[h-5]^u.EXP_TABLE[h-6]^u.EXP_TABLE[h-8];for(h=0;h<255;h++)u.LOG_TABLE[u.EXP_TABLE[h]]=h;QRCode=function(e,r){if(this._el=e,this._htOption=r,this._android=a(),this._oQRCode=null,this._oDrawing=null,this._htOption=this._htOption||{},this._htOption.width=this._htOption.width||256,this._htOption.height=this._htOption.height||256,this._htOption.typeNumber=this._htOption.typeNumber||-1,this._htOption.colorDark=this._htOption.colorDark||"#000000",this._htOption.colorLight=this._htOption.colorLight||"#ffffff",this._htOption.correctLevel=this._htOption.correctLevel||d.H,"string"==typeof this._el&&(this._el=document.getElementById(this._el)),this._oQRCode=new t(this._htOption.typeNumber,this._htOption.correctLevel),this._oQRCode.addData(this._htOption.text||""),this._oQRCode.make(),this._oDrawing=function(e){if(o()){var t=document.createElement("canvas");t.width=e.width,t.height=e.height,e.el.appendChild(t);var r=t.getContext("2d"),n=e.width/e.count,a=e.height/e.count;return{draw:function(o){for(var i=0;i<o.getModuleCount();i++)for(var s=0;s<o.getModuleCount();s++){r.fillStyle=o.isDark(i,s)?e.colorDark:e.colorLight;var c=Math.ceil((s+1)*n)-Math.floor(s*n),u=Math.ceil((i+1)*a)-Math.floor(i*a);r.fillRect(Math.round(s*n),Math.round(i*a),c,u)}},clear:function(){r.clearRect(0,0,t.width,t.height)}}}var i=document.createElement("img");return e.el.appendChild(i),{draw:function(e){i.src=function(e,t){for(var r=e.getModuleCount(),n=t.width/r,o=t.height/r,a=Math.round(n),i=Math.round(o),s=[],c="rgb("+parseInt(t.colorLight.substr(1,2),16)+","+parseInt(t.colorLight.substr(3,2),16)+","+parseInt(t.colorLight.substr(5,2),16)+")",u="rgb("+parseInt(t.colorDark.substr(1,2),16)+","+parseInt(t.colorDark.substr(3,2),16)+","+parseInt(t.colorDark.substr(5,2),16)+")",l=document.createElement("canvas");l.width=t.width,l.height=t.height;var f=l.getContext("2d");f.fillStyle=c,f.fillRect(0,0,l.width,l.height);for(var h=0;h<r;h++)for(var g=0;g<r;g++)f.fillStyle=e.isDark(h,g)?u:c,f.fillRect(g*a,h*i,a,i);return l.toDataURL()}(e,{width:e._moduleCount*4,height:e._moduleCount*4,colorDark:this.colorDark,colorLight:this.colorLight})},clear:function(){i.src=""}}}({el:this._el,width:this._htOption.width,height:this._htOption.height,colorDark:this._htOption.colorDark,colorLight:this._htOption.colorLight,count:4}),this._oDrawing.draw(this._oQRCode)},QRCode.CorrectLevel=d}();
