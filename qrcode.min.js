/*! qrcode.js v1.0.0 | (c) 2016 davidshimjs | MIT */
var QRCode;!function(){function t(t){this.mode=f.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,i=this.data.length;e<i;e++){var r=[],n=this.data.charCodeAt(e);n>65536?(r[0]=240|(1835008&n)>>>18,r[1]=128|(258048&n)>>>12,r[2]=128|(4032&n)>>>6,r[3]=128|63&n):n>2048?(r[0]=224|(61440&n)>>>12,r[1]=128|(4032&n)>>>6,r[2]=128|63&n):n>128?(r[0]=192|(1984&n)>>>6,r[1]=128|63&n):r[0]=n,this.parsedData.push(r)}this.parsedData=[].concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function i(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=new Array(t.length-i+e);for(var r=0;r<t.length-i;r++)this.num[r]=t[r+i]}function r(t,e){this.totalCount=t,this.dataCount=e}function n(){this.buffer=[],this.length=0}function o(){return"undefined"!=typeof CanvasRenderingContext2D}function a(){var t=!1,e=navigator.userAgent;return/android/i.test(e)&&(t=!0,(/android 2\.1/i.test(e)||/android 2\.2/i.test(e))&&(t=!0)),t}function s(t,e){for(var i=1,r=function(t){for(var e=0,i=0,r=0,n=0,o=0,a=0,s=0,h=0,c=0,u=t.length,d=0;d<u;d++){var l=t.charCodeAt(d);l>65536?(e+=4,a+=3):l>2048?(e+=3,a+=2):l>128?(e+=2,a+=2):(e+=1,l<32||l>126?n++:l>=48&&l<=57?o++:l>=65&&l<=90?s++:l>=97&&l<=122?h++:c++),i++}return{byte:e,charCount:i,ctrl:n,num:o,upper:s,lower:h,other:c}}(t),n=0,o=u.length-1;o>=0;o--){var a=0;switch(e){case d.L:a=u[o][0];break;case d.M:a=u[o][1];break;case d.Q:a=u[o][2];break;case d.H:a=u[o][3]}if(r.byte<=a)return i=o+1,n=1,void 0}return i}function h(){}t.prototype={getLength:function(){return this.parsedData.length},write:function(t){for(var e=0,i=this.parsedData.length;e<i;e++)t.put(this.parsedData[e],8)}},e.prototype={addData:function(e){var i=new t(e);this.dataList.push(i),this.dataCache=null},isDark:function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var t=s(this.getData(),this.errorCorrectLevel);this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[i][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=g(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var i=-1;7>=i;i++)if(!(t+i<=-1||this.moduleCount<=t+i))for(var r=-1;7>=r;r++)e+r<=-1||this.moduleCount<=e+r||(this.modules[t+i][e+r]=i>=0&&i<=6&&(0==r||6==r)||r>=0&&r<=6&&(0==i||6==i)||i>=2&&i<=4&&r>=2&&r<=4?!0:!1)},getBestMaskPattern:function(){for(var t=0,e=0,i=0;i<8;i++){this.makeImpl(!0,i);var r=l.getLostPoint(this);(0==i||t>r)&&(t=r,e=i)}return e},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=0==t%2),null==this.modules[6][t]&&(this.modules[6][t]=0==t%2)},setupPositionAdjustPattern:function(){for(var t=l.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var r=t[e],n=t[i];null==this.modules[r][n]&&(this.modules[r][n]=l.getMask(1,r,n))}},setupTypeNumber:function(t){for(var e=l.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var r=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=r}for(i=0;i<18;i++){r=!t&&1==(e>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=r}},setupTypeInfo:function(t,e){for(var i=l.getBCHTypeInfo(this.errorCorrectLevel<<3|e),r=0;r<15;r++){var n=!t&&1==(i>>r&1);r<6?this.modules[r][8]=n:r<8?this.modules[r+1][8]=n:this.modules[this.moduleCount-15+r][8]=n}for(r=0;r<15;r++){n=!t&&1==(i>>r&1);r<8?this.modules[8][this.moduleCount-1-r]=n:r<9?this.modules[8][15-r-1+1]=n:this.modules[8][15-r-1]=n}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var i=-1,r=this.moduleCount-1,n=this.moduleCount-1,o=0;o<this.moduleCount;o+=2){6==o&&o++;for(;;){for(var a=0;a<2;a++)null==this.modules[n][r-a]&&(this.modules[n][r-a]=l.getMask(e,n,r-a)?!t[i++]:t[i++]);n+=i;if(0>n||this.moduleCount<=n){n-=i,i=-i;break}}}},getData:function(){for(var t=[],e=0;e<this.dataList.length;e++)t=t.concat(this.dataList[e].parsedData);return t}},i.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length}},r.RS_BLOCK_TABLE=[[1,26,19,0],[1,44,34,0],[1,70,55,0],[1,100,80,0],[1,134,108,0],[2,86,62,0],[2,98,74,0],[2,121,86,0],[2,146,108,0],[2,86,62,2,87,62]],r.getRSBlocks=function(t,e){var i=r.RS_BLOCK_TABLE[t-1];if(void 0==i)throw new Error("bad rs block @ typeNumber:"+t);for(var n=[],o=0;o<i.length/3;o++)for(var a=i[3*o+0],s=i[3*o+1],h=i[3*o+2],c=0;c<a;c++)n.push(new r(s,h));return n};var f={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},d={L:1,M:0,Q:3,H:2},u=[[19,7,1,19],[34,10,1,34],[55,15,1,55],[80,20,1,80],[108,26,1,108],[136,18,2,68],[156,20,2,78],[194,24,2,97],[232,30,2,116],[274,18,2,68]],l={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50]],getBCHTypeInfo:function(t){for(var e=t<<10;l.getBCHDigit(e)-l.getBCHDigit(1335)>=0;)e^=1335<<l.getBCHDigit(e)-l.getBCHDigit(1335);return(t<<10|e)^21522},getBCHTypeNumber:function(t){for(var e=t<<12;l.getBCHDigit(e)-l.getBCHDigit(7973)>=0;)e^=7973<<l.getBCHDigit(e)-l.getBCHDigit(7973);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return l.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case 0:return(e+i)%2==0;case 1:return e%2==0;case 2:return i%3==0;case 3:return(e+i)%3==0;case 4:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case 5:return e*i%2+e*i%3==0;case 6:return(e*i%2+e*i%3)%2==0;case 7:return(e*i%3+Math.floor(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new i([1],0),r=0;t>r;r++)e=l.multiply(e,new i([1,h.gexp(r)],0));return e},glog:function(t){if(1>t)throw new Error("glog("+t+")");return h.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return h.EXP_TABLE[t]},multiply:function(t,e){for(var r=new Array(t.getLength()+e.getLength()-1),n=0;n<t.getLength();n++)for(var o=0;o<e.getLength();o++)r[n+o]^=h.gexp(h.glog(t.get(n))+h.glog(e.get(o)));return new i(r,0)},mod:function(t,e){for(;t.getLength()-e.getLength()>=0;){for(var r=h.glog(t.get(0))-h.glog(e.get(0)),n=new Array(t.getLength()),o=0;o<t.getLength();o++)n[o]=t.get(o);for(o=0;o<e.getLength();o++)n[o]^=h.gexp(h.glog(e.get(o))+r);t=new i(n,0);for(;t.get(0)==0;)t=new i(t.num.slice(1),0)}return t},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,r=0;e>r;r++)for(var n=0;e>n;n++){for(var o=0,a=t.isDark(r,n),s=-1;s<=1;s++)if(!(r+s<0||e<=r+s))for(var h=-1;h<=1;h++)n+h<0||e<=n+h||(0==s&&0==h||(a==t.isDark(r+s,n+h)&&i++));if(i>5)return i+=3}for(r=0;e-1>r;r++)for(n=0;e-1>n;n++){var c=0;t.isDark(r,n)&&c++,t.isDark(r+1,n)&&c++,t.isDark(r,n+1)&&c++,t.isDark(r+1,n+1)&&c++,0!=c&&4!=c||(i+=3)}for(r=0;e>r;r++)for(n=0;e-6>n;n++)t.isDark(r,n)&&!t.isDark(r,n+1)&&t.isDark(r,n+2)&&t.isDark(r,n+3)&&t.isDark(r,n+4)&&!t.isDark(r,n+5)&&t.isDark(r,n+6)&&(i+=40);for(n=0;e>n;n++)for(r=0;e-6>r;r++)t.isDark(r,n)&&!t.isDark(r+1,n)&&t.isDark(r+2,n)&&t.isDark(r+3,n)&&t.isDark(r+4,n)&&!t.isDark(r+5,n)&&t.isDark(r+6,n)&&(i+=40);for(var u=0,f=0,r=0;e>r;r++)for(n=0;e>n;n++)t.isDark(r,n)&&u++;f=Math.abs(100*u/e/e-50)/5;return i+=10*f}};function g(t,e,n){for(var o=function(t,e){var n=u[t-1];if(void 0==n)throw new Error("bad rs block @ typeNumber:"+t);for(var o=[],a=0;a<n.length/3;a++)for(var s=n[3*a+0],h=n[3*a+1],c=n[3*a+2],g=0;g<s;g++)o.push(new r(h,c));return o}(t,e),a=new v,h=0;h<n.length;h++){var s=n[h];a.put(4,4),a.put(s.getLength(),8);for(var c=0;c<s.parsedData.length;c++)a.put(s.parsedData[c],8)}for(var l=0;l<o.length;l++)a.put(0,8);for(;a.length+4<=8*t*t;)a.put(0,4);for(;a.length%8!=0;)a.putBit(!1);var g=0,m=0,p=0,w=new Array(o.length),y=new Array(o.length);for(l=0;l<o.length;l++){var C=o[l].dataCount,E=o[l].totalCount-C;m=Math.max(m,C),p=Math.max(p,E),w[l]=new Array(C);for(c=0;c<w[l].length;c++)w[l][c]=255&a.buffer[c+g];g+=C;var L=l2.getErrorCorrectPolynomial(E),M=l2.mod(new i(w[l],0),L),B=L.getLength();y[l]=new Array(B);for(c=0;c<B;c++){var R=c+M.getLength()-B;y[l][c]=R>=0?M.get(R):0}}var T=0;for(c=0;c<o.length;c++)T+=o[c].totalCount;var k=new Array(T),H=0;for(c=0;c<m;c++)for(l=0;l<o.length;l++)c<w[l].length&&(k[H++]=w[l][c]);for(c=0;c<p;c++)for(l=0;l<o.length;l++)c<y[l].length&&(k[H++]=y[l][c]);return k}function v(){this.buffer=[],this.length=0}v.prototype={get:function(t){return this.buffer[t]},put:function(t,e){for(var i=0;e>i;i++)this.putBit(1==(t>>>e-i-1&1))},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var h={};h.EXP_TABLE=new Array(256),h.LOG_TABLE=new Array(256);for(var m=0;m<8;m++)h.EXP_TABLE[m]=1<<m;for(m=8;m<256;m++)h.EXP_TABLE[m]=h.EXP_TABLE[m-4]^h.EXP_TABLE[m-5]^h.EXP_TABLE[m-6]^h.EXP_TABLE[m-8];for(m=0;m<255;m++)h.LOG_TABLE[h.EXP_TABLE[m]]=m;var l2=l;QRCode=function(t,i){if(this._el=t,this._htOption=i,this._android=a(),this._oQRCode=null,this._oDrawing=null,this._htOption=this._htOption||{},this._htOption.width=this._htOption.width||256,this._htOption.height=this._htOption.height||256,this._htOption.typeNumber=this._htOption.typeNumber||-1,this._htOption.colorDark=this._htOption.colorDark||"#000000",this._htOption.colorLight=this._htOption.colorLight||"#ffffff",this._htOption.correctLevel=this._htOption.correctLevel||d.H,"string"==typeof this._el&&(this._el=document.getElementById(this._el)),this._oQRCode=new e(this._htOption.typeNumber,this._htOption.correctLevel),this._oQRCode.addData(this._htOption.text||""),this._oQRCode.make(),this._oDrawing=function(t){if(o()){var e=document.createElement("canvas");e.width=t.width,e.height=t.height,t.el.appendChild(e);var i=e.getContext("2d"),r=t.width/t.count,n=t.height/t.count;return{draw:function(o){for(var a=0;a<o.getModuleCount();a++)for(var s=0;s<o.getModuleCount();s++){i.fillStyle=o.isDark(a,s)?t.colorDark:t.colorLight;var h=Math.ceil((s+1)*r)-Math.floor(s*r),c=Math.ceil((a+1)*n)-Math.floor(a*n);i.fillRect(Math.round(s*r),Math.round(a*n),h,c)}},clear:function(){i.clearRect(0,0,e.width,e.height)}}}var e=document.createElement("img");return t.el.appendChild(e),{draw:function(i){e.src=function(t,e){for(var i=t.getModuleCount(),r=e.width/i,n=e.height/i,o=Math.round(r),a=Math.round(n),s=document.createElement("canvas");s.width=e.width,s.height=e.height,1;){var h=s.getContext("2d");h.fillStyle=e.colorLight,h.fillRect(0,0,s.width,s.height);for(var c=0;c<i;c++)for(var u=0;u<i;u++)h.fillStyle=t.isDark(c,u)?e.colorDark:e.colorLight,h.fillRect(u*o,c*a,o,a);break}return s.toDataURL()}(i,{width:t.width,height:t.height,colorDark:t.colorDark,colorLight:t.colorLight})},clear:function(){e.src=""}}}({el:this._el,width:this._htOption.width,height:this._htOption.height,colorDark:this._htOption.colorDark,colorLight:this._htOption.colorLight,count:4}),this._oDrawing.draw(this._oQRCode)},QRCode.CorrectLevel=d}();
